<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title> Build PC - 3TD SHOP </title>
    <link rel="icon" type="image/png" href="Image_Showroom/Slogan_w_logo.png">
    <!-- ✅ BOOTSTRAP CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- ✅ FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">

    <!-- ✅ Boxicons -->
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">

    <!-- ✅ Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&family=Audiowide&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="HTML/Style/common.css">
    <link rel="stylesheet" href="HTML/Style/resetbuildPC.css">
    <link rel="stylesheet" href="HTML/Style/resetChatbox.css">
    <script>
        window.API_BASE = "https://fn-web.onrender.com";
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="Script/js_header.js"></script>
    <!-- Thêm hệ thống giỏ hàng để có thể thêm linh kiện đã build -->
    <script src="Script/js_CartHandler.js" defer></script>
    <!-- xuất file pdf -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
    <script>
// ====== Nhập PDF cấu hình PC ======
document.addEventListener('DOMContentLoaded', function() {
  var importBtn = document.getElementById('load-config');
  if(importBtn) {
    // Tạo input file ẩn
    var fileInput = document.createElement('input');
    fileInput.type = 'file';
    fileInput.accept = '.pdf,application/pdf';
    fileInput.style.display = 'none';
    importBtn.parentNode.appendChild(fileInput);
    importBtn.addEventListener('click', function() { fileInput.value=''; fileInput.click(); });
    fileInput.addEventListener('change', function(e) {
      var file = e.target.files && e.target.files[0];
      if(!file) return;
      if(typeof window.pdfjsLib === 'undefined') {
        alert('Thiếu thư viện đọc PDF (pdfjsLib)!');
        return;
      }
      var reader = new FileReader();
      reader.onload = function(ev) {
        var typedarray = new Uint8Array(ev.target.result);
        pdfjsLib.getDocument({data:typedarray}).promise.then(function(pdf) {
          pdf.getPage(1).then(function(page) {
            page.getTextContent().then(function(textContent) {
              var text = textContent.items.map(function(item){return item.str;}).join(' ');
              // Gọi hàm xử lý text PDF để import cấu hình
              if(typeof importPCConfigFromPDF==='function') importPCConfigFromPDF(text);
              else alert('Không tìm thấy hàm importPCConfigFromPDF!');
            });
          });
        });
      };
      reader.readAsArrayBuffer(file);
    });
  }
});

// Hàm xử lý text PDF để import cấu hình (ví dụ đơn giản)
function importPCConfigFromPDF(text) {
  // Tìm các dòng chứa CPU, GPU, RAM, Ổ cứng
  var cpu = /CPU\s*:?\s*(.+?)(?=GPU|RAM|Ổ cứng|$)/i.exec(text);
  var gpu = /GPU\s*:?\s*(.+?)(?=CPU|RAM|Ổ cứng|$)/i.exec(text);
  var ram = /RAM\s*:?\s*(.+?)(?=CPU|GPU|Ổ cứng|$)/i.exec(text);
  var storage = /Ổ cứng\s*:?\s*(.+?)(?=CPU|GPU|RAM|$)/i.exec(text);
  var result = {
    cpu: cpu ? cpu[1].trim() : '',
    gpu: gpu ? gpu[1].trim() : '',
    ram: ram ? ram[1].trim() : '',
    storage: storage ? storage[1].trim() : ''
  };
    // Tự động dò và chọn linh kiện phù hợp trong PART_LIBRARY
    function fuzzyFind(category, name) {
      if(!name) return null;
      var list = (window.PART_LIBRARY && PART_LIBRARY[category]) || [];
      name = name.toLowerCase();
      // Ưu tiên khớp gần đủ token
      var tokens = name.split(/\s+/).filter(t=>t.length>2);
      var best = null, bestScore = 0;
      list.forEach(function(p) {
        var base = (p.name||'').toLowerCase();
        var score = 0;
        tokens.forEach(function(t){ if(base.includes(t)) score++; });
        if(score > bestScore) { bestScore = score; best = p; }
      });
      return bestScore >= 1 ? best : null;
    }
    var selected = {};
    ['cpu','gpu','ram','storage'].forEach(function(cat){
      var part = fuzzyFind(cat, result[cat]);
      if(part) selected[cat] = part;
    });
    // Gán vào state.selected và cập nhật giao diện
    if(window.state && window.state.selected) {
      Object.assign(window.state.selected, selected);
      if(typeof renderSelected==='function') { Object.keys(selected).forEach(function(cat){ renderSelected(cat); }); }
      if(typeof recalcTotals==='function') recalcTotals();
      if(typeof updateSummary==='function') updateSummary();
      if(window.updateFloatBar) window.updateFloatBar();
      alert('Đã tải lại cấu hình từ PDF!');
    } else {
      alert('Đã đọc cấu hình từ PDF:\nCPU: '+result.cpu+'\nGPU: '+result.gpu+'\nRAM: '+result.ram+'\nỔ cứng: '+result.storage+'\n(Nhưng không thể tự động chọn linh kiện)');
    }
}
// Đảm bảo cả hai nút Thêm vào giỏ hàng (tổng và minibar) đều gọi chung một hàm xử lý
function handleAddToCartClick() {
  var snackbar = document.getElementById('snackbar-buildpc');
  var snackBundle = document.getElementById('snack-bundle');
  var snackParts = document.getElementById('snack-parts');
  // Lấy danh sách required từ PART_CATEGORIES (chỉ lấy 8 mục đầu tiên)
  var required = (window.PART_CATEGORIES||[]).slice(0,8).map(c=>c.key.toLowerCase());
  var labels = (window.PART_CATEGORIES||[]).reduce((obj,c)=>{ obj[c.key.toLowerCase()]=c.label; return obj; }, {});
  var missing = required.filter(function(key){
    return !(window.state && state.selected && state.selected[key]);
  });
  if(missing.length) {
    if(window.showNotification) window.showNotification('Vui lòng chọn đủ các bộ phận: '+missing.map(function(k){return labels[k]||k;}).join(', '),'error');
    return;
  }
  if(snackbar && snackBundle && snackParts) {
    snackbar.style.display = 'flex';
    setTimeout(()=>{snackbar.classList.add('show')},10);
  } else {
    // Fallback: hỏi confirm nếu không có snackbar
    if (!window.confirm('Bạn có muốn chúng tôi tiến hành lắp ráp sẵn cho bạn không?\n\nChọn OK để lắp ráp sẵn (thêm 1 sản phẩm tổng),\nChọn Cancel để thêm từng linh kiện riêng lẻ.')) {
      if(typeof addCurrentSelectionToCart==='function') addCurrentSelectionToCart({bundle:false});
      return;
    }
    if(typeof addCurrentSelectionToCart==='function') addCurrentSelectionToCart({bundle:true});
  }
}
function bindAddToCartButtons() {
  var btn = document.getElementById('export-json');
  var floatBtn = document.getElementById('floatbar-addcart');
  if(btn) btn.onclick = handleAddToCartClick;
  if(floatBtn) floatBtn.onclick = function() {
    console.log('[DEBUG] Nhấn nút floatbar-addcart', window.state && state.selected);
    if(typeof addCurrentSelectionToCart==='function') {
      addCurrentSelectionToCart({bundle:false});
    } else {
      alert('Không tìm thấy hàm addCurrentSelectionToCart!');
    }
  };
}
document.addEventListener('DOMContentLoaded', bindAddToCartButtons);
</script>
    <script src="Script/js_resetbuildPC.js" defer></script>

</head>
<body>
<!-- Header -->
<div id="header-container"></div>

<!-- Nội dung chính -->
<main class="pc-builder-wrapper">
    <div class="pc-builder" id="pc-builder">
        <!-- Sidebar categories -->
        <aside class="builder-categories">
            <h2 class="builder-title">Danh mục</h2>
            <ul id="category-list"></ul>
            <div class="persist-actions">
          
            </div>
        </aside>

        <!-- Config table -->
        <section class="builder-config">
            <h2 class="builder-title">Tự Build PC</h2>
            <div style="display:flex; gap:8px; margin-bottom:12px; flex-wrap:wrap;">          
            </div>
            <div class="compatibility-status" id="compat-status"></div>
            <table class="config-table">
                <thead>
                    <tr>
                        <th>Hạng mục</th>
                        <th>Chọn linh kiện</th>
                        <th>Giá</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="config-rows"></tbody>
                <tfoot>
                    <tr class="total-row">
                        <td colspan="2">Tổng cộng</td>
                        <td id="total-price">0₫</td>
                        <td></td>
                    </tr>
                    
                </tfoot>
            </table>
            <div class="export-actions">
                <button class="btn neon-btn" id="export-json"><i class="fa fa-shopping-cart"></i>Thêm vào giỏ hàng</button>
                <button class="btn neon-btn alt" id="clear-config"><i class="fa fa-trash"></i> Xóa hết</button>
            </div>
           
        </section>

        <!-- Summary / Recommendation -->
        <aside class="builder-summary">
            <h2 class="builder-title">Tóm tắt</h2>
            <div id="summary-list" class="summary-list"></div>
            <div class="warning-box" id="warning-box" style="display:none"></div>
            <div class="recommend-box" id="recommend-box"></div>
        </aside>
    </div>
</main>

<!-- Modal chọn linh kiện -->
<div class="builder-modal" id="part-modal" style="display:none;">
  <div class="builder-modal-content">
    <div class="modal-header">
        <h3 id="modal-title">Chọn linh kiện</h3>
        <button class="modal-close" id="close-modal">×</button>
    </div>
    <div class="modal-body-split">
        <aside class="filter-panel">
            <div class="filter-scroll">
                <div class="filter-group">
                    <div class="fg-title">Tìm kiếm</div>
                    <input type="text" id="part-search" placeholder="Tìm theo tên / socket / chuẩn..." />
                </div>
                <div class="filter-group" id="group-facet" style="display:none;">
                    <div class="fg-title" id="facet-title">Thuộc tính</div>
                    <select id="part-filter-socket" class="hidden"></select>
                </div>
                <div class="filter-group brand-filter" id="brand-filter" style="display:none;">
                    <div class="fg-title">Hãng</div>
                    <label class="chk"><input type="checkbox" value="AMD"> <span>AMD</span></label>
                    <label class="chk"><input type="checkbox" value="Intel"> <span>Intel</span></label>
                </div>
                <div class="filter-group price-filter" id="price-filter" style="display:none;">
                    <div class="fg-title">Giá tối đa</div>
                    <div class="pf-labels"><span id="pf-min">0₫</span><span id="pf-max">0₫</span></div>
                    <div class="pf-sliders single">
                        <input type="range" id="pf-range-max" min="0" max="0" value="0" step="50000">
                    </div>
                </div>
            </div>
        </aside>
        <div class="parts-area">
            <div class="parts-grid" id="parts-grid"></div>
        </div>
    </div>
  </div>
</div>

<!-- Footer -->
<div id="footer-container"></div>

<!-- Floating mini summary bar -->
<div class="builder-float-bar" id="builder-float-bar">
  <div class="bf-left">
    <span id="floatbar-total-price">Tổng: 0₫</span>
  </div>
  <div class="bf-actions">
    <button id="floatbar-addcart" type="button" class="bf-btn" aria-label="Thêm vào giỏ hàng"><i class="fa fa-shopping-cart"></i> Thêm vào giỏ hàng</button>
  </div>
</div>

<!-- Snackbar xác nhận lắp ráp sẵn -->
<div id="snackbar-buildpc" style="display:none;position:fixed;left:50%;bottom:32px;transform:translateX(-50%);z-index:9999;min-width:320px;max-width:90vw;padding:18px 24px;border-radius:14px;box-shadow:0 4px 32px #00e6ff55,0 2px 12px #0008;display:flex;align-items:center;gap:16px;font-size:1.1rem;backdrop-filter:blur(2px);">
  <span style="flex:1">Bạn có muốn chúng tôi lắp ráp sẵn cho bạn không?</span>
  <button id="snack-bundle" class="btn neon-btn" style="margin-right:4px;">Lắp ráp sẵn</button>
  <button id="snack-parts" class="btn neon-btn alt">Từng linh kiện</button>
</div>

<!-- 
<button id="openChatbox" class="chat-launch-bar sunken" aria-label="Mở chat tư vấn" title="Chat tư vấn">
    <span class="clb-icon"><i class="fa fa-comments"></i></span>
    <span class="clb-label">Chat tư vấn - Giải đáp mọi thắc mắc</span>
</button>
<div id="chat-backdrop" class="chat-backdrop" aria-hidden="true"></div>
<div class="chat-wrapper minimal" id="chatDrawer" role="dialog" aria-label="Chat hỗ trợ" aria-hidden="true">
    <div class="chat-header minimal">
        <div class="ch-left">
            <img src="Image_Showroom/Slogan_w_logo.png" alt="logo" class="chat-logo" />
            <div class="ch-meta"><strong>3TD Chat</strong><br><small>Chat với chúng tôi</small></div>
        </div>
        <button id="closeChatbox" class="close-btn minimal" aria-label="Đóng">✕</button>
    </div>
    <div id="chatMessages" class="chat-messages" role="log"></div>
    <form id="chatForm" class="chat-input minimal" autocomplete="off">
        <input id="chatInput" type="text" placeholder="Nhập nội dung..." aria-label="Nhập nội dung" />
        <button type="submit" class="send-btn" aria-label="Gửi">➤</button>
    </form>
</div>
<script src="Script/resetChatbox.js"></script>
<script>
// Align chat bar just above builder float bar dynamically
function positionChatLaunch(){
    const floatBar=document.getElementById('builder-float-bar');
    const launchBtn=document.getElementById('openChatbox');
    const root=document.documentElement;
    if(floatBar){
        const h=floatBar.offsetHeight||56;
        // đặt đúng bằng chiều cao thanh dưới -> sát không có khoảng trống
        root.style.setProperty('--chat-launch-bottom', h+'px');
    }
    if(launchBtn){
        root.style.setProperty('--chat-launch-height', launchBtn.offsetHeight+'px');
    }
}
window.addEventListener('resize', positionChatLaunch);
document.addEventListener('DOMContentLoaded', positionChatLaunch);
</script>
<div id="webchat-container" style="position: relative; width: 100%; height: 100%;">
  
    
    <script src="https://cdn.botpress.cloud/webchat/v3.2/inject.js"></script>
    <script src="https://files.bpcontent.cloud/2025/08/17/15/20250817153751-NPWG92P6.js" defer></script>
    
  <script>
    window.botpress.on('webchat:initialized', () => {
      window.botpress.open()
    })

    // Paste your Webchat config snippet here
  </script>
  <style>
    #webchat-container {
      position: relative;
      width: 100%;
      height: 100%;
    }
    .bpFab {
      display: flex;
    }
    .bpWebchat {
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      width: 100% !important;
      height: 100% !important;
      max-height: 100% !important;
    }
  </style>
</div>
-->

<script>
// Gán sự kiện cho nút Thêm vào giỏ hàng tổng bằng snackbar đẹp (và minibar cũng dùng chung logic này)
document.addEventListener('DOMContentLoaded', function() {
  var snackbar = document.getElementById('snackbar-buildpc');
  var snackBundle = document.getElementById('snack-bundle');
  var snackParts = document.getElementById('snack-parts');
  function closeSnack() {
    snackbar.classList.remove('show');
    setTimeout(()=>{snackbar.style.display='none';},300);
  }
  if(snackBundle && snackParts) {
    snackBundle.onclick = function() {
      if(typeof addCurrentSelectionToCart==='function') addCurrentSelectionToCart({bundle:true});
      closeSnack();
    };
    snackParts.onclick = function() {
      if(typeof addCurrentSelectionToCart==='function') addCurrentSelectionToCart({bundle:false});
      closeSnack();
    };
  }
});
</script>
<script>
// Gán sự kiện cho nút Thêm vào giỏ hàng trên thanh builder-float-bar (minibar) dùng chung logic với nút tổng
document.addEventListener('DOMContentLoaded', function() {
  var floatBtn = document.getElementById('floatbar-addcart');
  if(floatBtn) floatBtn.onclick = handleAddToCartClick;
});
</script>
<script>
// Cập nhật động tổng giá cho thanh builder-float-bar (bỏ công suất)
function updateFloatBar() {
  var totalText = '';
  var mainTotal = document.getElementById('total-price');
  if(mainTotal) {
    totalText = mainTotal.textContent || mainTotal.innerText || '';
    // Nếu là 'Liên hệ' hoặc rỗng thì hiển thị 0₫
    if(!totalText.trim() || /liên hệ/i.test(totalText)) totalText = '0₫';
  } else {
    // Fallback: tự tính lại nếu không tìm thấy
    var total = 0;
    if(window.state && state.selected) {
      Object.values(state.selected).forEach(function(p){
        total += p.price||0;
      });
    }
    totalText = (typeof formatPrice === 'function') ? formatPrice(total) : (total? total.toLocaleString('vi-VN')+'₫' : '0₫');
  }
  var el = document.getElementById('floatbar-total-price');
  if(el) el.textContent = 'Tổng: ' + totalText.replace(/^Tổng: /,'').replace(/^\s+|\s+$/g,'');
  // Đảm bảo nút thanh toán luôn enable/disable đúng trạng thái
  var btn = document.getElementById('floatbar-addcart');
  // Lấy số tiền số để disable đúng
  var totalNum = 0;
  if(mainTotal) {
    var num = (mainTotal.textContent||'').replace(/[^\d]/g,'');
    totalNum = parseInt(num,10)||0;
  }
  // Chỉ disable nếu không chọn linh kiện nào
  if(btn) btn.disabled = !(window.state && state.selected && Object.keys(state.selected).length > 0);
  // Luôn gán lại sự kiện cho cả hai nút mỗi lần cập nhật minibar
  bindAddToCartButtons();
}
document.addEventListener('DOMContentLoaded', function() {
  updateFloatBar();
});
window.updateFloatBar = updateFloatBar;
// Gọi updateFloatBar trong các hàm chọn/xóa linh kiện (js_resetbuildPC.js) để luôn đồng bộ
</script>
<script>
// ====== Xuất PDF cấu hình PC ======

document.addEventListener('DOMContentLoaded', function() {
  var exportBtn = document.getElementById('export-pdf');
  if(exportBtn) exportBtn.onclick = exportPCBuildPDF;
});

function exportPCBuildPDF() {
  if(!window.state || !state.selected || Object.keys(state.selected).length === 0) {
    if(window.showNotification) window.showNotification('Bạn chưa chọn linh kiện nào để xuất PDF!','error');
    return;
  }
  var parts = Object.values(state.selected);
  var now = new Date();
  var formattedDate = now.toLocaleString('vi-VN');
  var total = parts.reduce((sum,p)=>sum+(p.price||0),0);
  var logoUrl = 'Image_Showroom/Slogan_w_logo.png';

  // Tạo bảng sản phẩm (bỏ cột Loại)
  var tableBody = [
    [
      {text:'Tên linh kiện', bold:true, alignment:'left'},
      {text:'Giá', bold:true, alignment:'right'}
    ],
    ...parts.map(p=>[
      {text:p.name, alignment:'left'},
      {text: (typeof formatPrice==='function'? formatPrice(p.price) : (p.price||0).toLocaleString('vi-VN')+'₫'), alignment:'right'}
    ])
  ];

  // Tải logo base64 nếu có pdfmake
  function toBase64Image(url, cb) {
    var img = new window.Image();
    img.crossOrigin = 'Anonymous';
    img.onload = function() {
      var canvas = document.createElement('canvas');
      canvas.width = img.width; canvas.height = img.height;
      var ctx = canvas.getContext('2d');
      ctx.drawImage(img,0,0);
      cb(canvas.toDataURL('image/png'));
    };
    img.onerror = function(){ cb(null); };
    img.src = url;
  }

  toBase64Image(logoUrl, function(logoBase64) {
    var docDefinition = {
      background: logoBase64 ? function(currentPage, pageSize) {
        return {
          image: logoBase64,
          width: pageSize.width * 0.7,
          opacity: 0.08,
          absolutePosition: { x: (pageSize.width - pageSize.width * 0.7) / 2, y: (pageSize.height - pageSize.width * 1) / 2 }
        };
      } : undefined,
      content: [
        {
          columns: [
            logoBase64 ? { image: logoBase64, width: 80 } : { text: '', width: 80 },
            { text: 'CẤU HÌNH PC', style: 'header', alignment: 'center', width: '*' },
            { text: '', width: 80 }
          ]
        },
        { text: '\n' },
        { text: 'Ngày xuất: ' + formattedDate },
        { text: '\nDanh sách linh kiện:', style: 'subheader' },
        {
          table: {
            headerRows: 1,
            widths: ['*','auto'],
            body: tableBody
          }
        },
        { text: '\nTổng cộng: ' + (typeof formatPrice==='function'? formatPrice(total) : total.toLocaleString('vi-VN')+'₫'), alignment: 'right', bold: true },
        { text: '\nCảm ơn bạn đã sử dụng 3TD Shop!', italics: true, alignment: 'center', color: 'black' }
      ],
      styles: {
        header: { fontSize: 18, bold: true, color: '#1e88e5' },
        subheader: { fontSize: 15, bold: true, margin: [0, 10, 0, 5] }
      },
      defaultStyle: {
        font: 'Roboto', fontSize: 11
      },
      pageSize: 'A4',
      pageMargins: [40, 60, 40, 60]
    };
    if(window.pdfMake) pdfMake.createPdf(docDefinition).download('CauHinhPC_3TDShop.pdf');
    else alert('Không tìm thấy thư viện pdfMake!');
  });
}
</script>
<style>
#snackbar-buildpc {
  opacity:0;
  pointer-events:none;
  transition:opacity .3s, bottom .3s, box-shadow .3s;
  background: linear-gradient(135deg, #0f2027 0%, #2c5364 100%);
  border: 2px solid #00e6ff;
  box-shadow: 0 4px 32px #00e6ff55, 0 2px 12px #0008;
  color: #fff;
}
#snackbar-buildpc.show {
  opacity:1;
  pointer-events:auto;
  bottom:48px;
  box-shadow: 0 0 16px 4px #00e6ffcc, 0 4px 32px #00e6ff55, 0 2px 12px #0008;
}
#snackbar-buildpc .btn {
  font-size:1rem;
  padding:6px 16px;
  background: linear-gradient(90deg, #00e6ff 0%, #0072ff 100%);
  color: #222;
  border: none;
  border-radius: 6px;
  font-weight: 600;
  box-shadow: 0 2px 8px #00e6ff33;
  transition: background .2s, color .2s;
}
#snackbar-buildpc .btn.alt {
  background: #222;
  color: #00e6ff;
  border: 1px solid #00e6ff;
}
#snackbar-buildpc .btn:hover {
  filter: brightness(1.1);
  color: #0072ff;
}
#notification.notification-popup {
  position: fixed;
  right: 16px;
  bottom: 16px;
  min-width: 180px;
  max-width: 320px;
  background: #222;
  color: #fff;
  padding: 10px 16px;
  border-radius: 8px;
  box-shadow: 0 2px 12px #0006;
  z-index: 99999;
  font-size: 0.98rem;
  display: block;
  opacity: 1;
  transition: opacity .3s, bottom .3s;
}
#notification.notification-popup.error { background: #b71c1c; color: #fff; }
#notification.notification-popup.success { background: #222; color: #fff; }
#notification .notification-content { display: flex; align-items: center; gap: 8px; }
#notification .notification-message { flex: 1; }
#notification .notification-close { background: none; border: none; color: #fff; font-size: 1.1em; cursor: pointer; }
#notification .notification-actions { margin-top: 6px; display: flex; gap: 6px; }
#notification .view-cart-btn { background: #00e676; color: #222; border: none; border-radius: 5px; padding: 4px 10px; text-decoration: none; font-weight: 600; font-size:0.95em; }
#notification .continue-btn { background: #444; color: #fff; border: none; border-radius: 5px; padding: 4px 10px; font-size:0.95em; }
@keyframes popupNotification {
  from { opacity: 0; bottom: 0; }
  to { opacity: 1; bottom: 16px; }
}
</style>
</body>
</html>